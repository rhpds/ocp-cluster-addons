---
namespace: keycloak

# Deployer-injected values (set by bootstrap app / ArgoCD parameters)
deployer:
  domain: apps.example.com
  apiUrl: ""
  guid: ""

operator:
  name: rhbk-operator
  channel: stable-v26.2

  # InstallPlan approval mode
  # - "Automatic": Operator upgrades automatically
  # - "Manual": Requires manual approval or use installPlanApprover job
  installPlanApproval: Automatic

  # Pin operator to specific CSV version
  # Example: "rhbk-operator.v26.2.0"
  # Leave empty for latest in channel
  startingCSV: ""

  # InstallPlan Approver Job
  # Automatically approves InstallPlans when installPlanApproval is "Manual"
  # Useful for GitOps workflows where you want to control operator versions
  installPlanApprover:
    enabled: false
    # Approve only if CSV matches startingCSV (when specified)
    # Set to false to approve any InstallPlan in the subscription
    enforceCSVMatch: true
    # Job timeout in seconds
    timeout: 600
    # Number of retries
    backoffLimit: 3
    # Image for the approver job
    image: image-registry.openshift-image-registry.svc:5000/openshift/cli:latest

  # Optional: Use custom catalog source
  catalogSource:
    enabled: false
    name: custom-redhat-catalog
    image: quay.io/gpte-devops-automation/olm_snapshot_redhat_catalog
    tag: v4.20_2025_10_23
